<div class="container">
    <h3>{{data.title}}</h3>
    <form name="contactForm" novalidate ng-submit="submit($event)">

        <div class="form-group has-feedback"
             ng-class="{'has-warning' : contactForm.nameInput.$error.required && contactForm.nameInput.initiated,
                        'has-success' : contactForm.nameInput.$valid && contactForm.nameInput.initiated}">
            <label for="name">Name</label>
            <input type="text"
                   name="nameInput"
                   class="form-control"
                   id="name"
                   placeholder="Ihr Name"
                   required
                   ng-model="formData.name"
                   ng-model-options="{allowInvalid: true, updateOn: 'default blur', debounce: {'default': 1000, 'blur': 0}}"
                   ng-change="modelChanged(contactForm.nameInput)">
            <span class="glyphicon form-control-feedback" aria-hidden="true"
                  ng-class="{'glyphicon-warning-sign' : contactForm.nameInput.$error.required && contactForm.nameInput.initiated,
                             'glyphicon-ok' : contactForm.nameInput.$valid && contactForm.nameInput.initiated}"></span>
            <alert type="'nameRequired'" resizable-alert></alert>
        </div>

        <div class="form-group has-feedback"
             ng-class="{'has-warning' : contactForm.emailInput.$error.required && contactForm.emailInput.initiated,
                        'has-success' : contactForm.emailInput.$valid && contactForm.emailInput.initiated,
                        'has-error' : !contactForm.emailInput.$valid && contactForm.emailInput.initiated}">
            <label for="email">E-Mail Adresse</label>
            <input type="email"
                   name="emailInput"
                   class="form-control"
                   id="email"
                   ng-model="formData.email"
                   ng-model-options="{allowInvalid: true, updateOn: 'default blur', debounce: {'default': 1000, 'blur': 0}}"
                   ng-change="modelChanged(contactForm.emailInput)"
                   placeholder="Ihre E-Mail Adresse"
                   required
                   pattern=".{1,}@[_a-z0-9A-Z.-]+(\.[a-z0-9A-Z]+)+"><!--TODO test this regex; better: build a email validation state machine http://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address -->
            <span class="glyphicon form-control-feedback" aria-hidden="true"
                  ng-class="{'glyphicon-warning-sign' : contactForm.emailInput.$error.required && contactForm.emailInput.initiated,
                             'glyphicon-ok' : contactForm.emailInput.$valid && contactForm.emailInput.initiated,
                             'glyphicon-remove' : !contactForm.emailInput.$valid && contactForm.emailInput.initiated}"></span>
            <alert type="'emailRequired'" resizable-alert></alert>
            <alert type="'emailInvalid'" resizable-alert></alert>
        </div>

        <div class="form-group has-feedback"
             ng-class="{'has-warning' : contactForm.messageInput.$error.required && contactForm.messageInput.initiated,
                        'has-success' : contactForm.messageInput.$valid && contactForm.messageInput.initiated}">
            <label for="message">Nachricht</label>
            <textarea type="text"
                   name="messageInput"
                   class="form-control"
                   id="message"
                   rows="3"
                   ng-model="formData.message"
                   placeholder="Ihre Nachricht"
                   ng-model-options="{allowInvalid: true, updateOn: 'default blur', debounce: {'default': 1000, 'blur': 0}}"
                   ng-change="modelChanged(contactForm.messageInput)"
                   required></textarea>
            <span class="glyphicon form-control-feedback" aria-hidden="true"
                  ng-class="{'glyphicon-warning-sign' : contactForm.messageInput.$error.required && contactForm.messageInput.initiated,
                             'glyphicon-ok' : contactForm.messageInput.$valid && contactForm.messageInput.initiated}"></span>
            <alert type="'messageRequired'" resizable-alert></alert>
        </div>

        <button type="submit" class="btn btn-default">Absenden</button>
    </form>
    <modal></modal>
</div>